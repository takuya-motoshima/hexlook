"use strict";module.exports=function(e,i={}){function t(){const e=f("0",a.toString(16),r.offsetWidth);c=e+r.offsetSep}function o(){if(r.offsetShow&&!c.length)return;let e=l%r.hexBlock;if(0!==e||0===a&&r.asciiNull){e=r.hexBlock-e;for(let i=0;i<e;i++)n(r.hexEmpty,r.asciiEmpty)}c+=h,r.asciiShow&&(c+="  "+r.asciiSep+u+r.asciiSep),s.push(c),c="",h="",u=""}function n(e,i,t){const o=l%r.hexBlock==0,n=l%r.hexGroup==0;!o&&n&&(h+=r.hexSep),h+=e,u+=i,a++,l++}function f(e,i,t){for(;i.length<t;)i=e+i;return i}if("string"==typeof e)e=Buffer.from(e);else if(!Buffer.isBuffer(e))throw new Error("payload is unknown");let r=Object.assign({hexBlock:16,hexGroup:1,hexSep:" ",hexEmpty:"  ",hexRender:function(e){return f("0",e.toString(16),2)},offsetShow:!0,offsetSep:"  ",offsetWidth:8,asciiShow:!0,asciiSep:"|",asciiEmpty:"",asciiNull:"",asciiRender:function(e){return e>31&&e<127?String.fromCharCode(e):"."}},i),s=[],c="",h="",u="",l=0,a=0;for(let i=0;i<e.length;i++){l%r.hexBlock==0&&(o(),r.offsetShow&&t());const f=e[i];n(r.hexRender(f),r.asciiRender(f),e[i])}return 0===a&&r.asciiNull&&(r.offsetShow&&t(),u+=r.asciiNull),o(),s.join("\n")};
