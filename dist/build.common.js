"use strict";module.exports=function(e,i={}){function n(){const e=o("0",S.toString(16),f.offsetWidth);s=e+f.offsetSep}function t(){if(!s.length)return;let e=p%f.blockSize;if(0!==e||0===S&&f.nullAscii){e=f.blockSize-e;for(let i=0;i<e;i++)r(f.emptyHex,f.emptyAscii)}s+=u+"  "+f.asciiSep+l+f.asciiSep,c.push(s),s="",u="",l=""}function r(e,i,n){const t=p%f.blockSize==0,r=p%f.hexGroup==0;!t&&r&&(u+=f.hexSep),u+=e,l+=i,S++,p++}function o(e,i,n){for(;i.length<n;)i=e+i;return i}if("string"==typeof e)e=Buffer.from(e);else if(!Buffer.isBuffer(e))throw new Error("payload is unknown");let f=Object.assign({blockSize:16,hexGroup:1,offsetSep:"  ",hexSep:" ",asciiSep:"|",emptyHex:"  ",emptyAscii:"",nullAscii:"",offsetWidth:8,renderHex:function(e){return o("0",e.toString(16),2)},renderAscii:function(e){return e>31&&e<127?String.fromCharCode(e):"."}},i),c=[],s="",u="",l="",p=0,S=0;for(let i=0;i<e.length;i++){p%f.blockSize==0&&(t(),n());const o=e[i];r(f.renderHex(o),f.renderAscii(o),e[i])}return 0===S&&f.nullAscii&&(n(),l+=f.nullAscii),t(),c.join("\n")};
